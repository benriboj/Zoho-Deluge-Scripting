records_info = zoho.crm.getRecordById("tenant_onboarding",customer_id);
document_id = "ks3lp0b61b86b1e20424ab3b35bc41bbb1241";
fields = Map();
fields.put("Name",records_info.get("Name"));
fields.put("Email",records_info.get("Email"));
fields.put("Phone_Number",records_info.get("Phone_Number"));
fields.put("Property_Name",records_info.get("Property_Name"));
fields.put("Address",records_info.get("Address"));
fields.put("Rent_Start_Date",records_info.get("Rent_Start_Date"));
fields.put("Rent_Amount",records_info.get("Rent_Amount"));
fields.put("Owner",records_info.get("Owner").get("name"));
data_map = Map();
data_map.put("data",fields);
merge_details = Map();
merge_details.put("merge_data",data_map);
name = "Rental Contract";
signerList = List();
signerObj2 = Map();
signerObj2.put("recipient_1",records_info.get("Email"));
signerObj2.put("action_type","sign");
signerObj2.put("language","en");
signerList.add(signerObj2);
option_settings = Map();
option_settings.put("sign_in_order","true");
option_settings.put("message","Kindly read all the details in the document properly and accept it by signing");
option_settings.put("set_expire","30");
option_settings.put("reminder_period","15");
response = zoho.writer.mergeAndSign(document_id,merge_details,name,signerList,option_settings,"writer");
info response;
Email_sent = Map();
Email_sent.put("Email_Sent",true);
updaterecord = zoho.crm.updateRecord("tenant_onboarding",customer_id,Email_sent);
return "";
